--- skipstone-0.8.3/src/mozilla.cpp.orig	2004-01-27 00:02:51.000000000 +0100
+++ skipstone-0.8.3/src/mozilla.cpp	2004-01-27 00:08:40.288376616 +0100
@@ -545,9 +545,8 @@
      	nsCOMPtr<nsIDOMNSDocument> nsDoc = do_QueryInterface(domDoc);
      	if (!nsDoc) D_RETURN_ (  CONTEXT_NONE );
      
-     	nsIURI *baseURI;
-     	result = doc->GetBaseURL(&baseURI);
-     	if (NS_FAILED(result) || !baseURI) D_RETURN_ (  CONTEXT_NONE );
+     	nsIURI *baseURI = doc->GetBaseURL();
+     	if (!baseURI) D_RETURN_ (  CONTEXT_NONE );
 
      	nsString mime;
      	nsDoc->GetContentType(mime);
--- skipstone-0.8.3/plugins/FavIcon/FavIconMoz.cpp.orig	2002-06-25 12:35:43.000000000 +0200
+++ skipstone-0.8.3/plugins/FavIcon/FavIconMoz.cpp	2004-01-27 00:13:50.247255704 +0100
@@ -93,8 +93,8 @@
 		     	link.AssignWithConversion(value);
 		   
 			
-			nsCOMPtr<nsIURI> uri;
-			doc->GetDocumentURL(getter_AddRefs(uri));
+			nsIURI *uri;
+			uri = doc->GetDocumentURL();
 
 			result = uri->Resolve (link, favicon_urlc);
 			if (NS_FAILED (result)) return FALSE;	
